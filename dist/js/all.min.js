!function(){"use strict";angular.module("app",["ui.router","ngMessages","satellizer","mgcrea.ngStrap","ngFileUpload","ngAnimate","angular-jwt","angular-loading-bar","ngImgCrop"]).config(["$stateProvider","$urlRouterProvider","$authProvider","API_URL",function(e,r,t,o){t.loginUrl=o+"/authenticate",t.signupUrl=o+"/register",r.otherwise("/login"),e.state("login",{url:"/login",templateUrl:"components/login/loginView.html",controller:"AuthController as auth"}).state("home",{url:"/home",templateUrl:"components/home/homeView.html",controller:"HomeController as home"}).state("profile",{url:"/profile",templateUrl:"components/profile/profileView.html",controller:"ProfileController as profile"}).state("register",{url:"/register",templateUrl:"components/register/registerView.html",controller:"RegisterController as register"})}]).config(["$httpProvider",function(e){e.interceptors.push("myInterceptors")}]),angular.module("app").constant("API_URL","http://localhost/api/api")}();
!function(){"use strict";function e(e,t){return{request:function(e){return e.headers=e.headers||{},sessionStorage.getItem("satellizer_token")&&(e.headers.Authorization="Bearer "+sessionStorage.getItem("satellizer_token")),e},response:function(e){return e},responseError:function(r){var n=n||t.get("$state");return 400==r.status&&n.go("login",{}),e.reject(r)}}}angular.module("app").factory("myInterceptors",e).config(["$httpProvider",function(e){e.interceptors.push("myInterceptors")}]),e.$inject=["$q","$injector"]}();
!function(){"use strict";function t(t,e,n){t.modal={title:"Title",content:"Hello Modal<br />This is a multiline message!"},t.isAuthenticated=function(){return e.isAuthenticated()}}angular.module("app").controller("MainController",t),t.$inject=["$scope","$auth","$state"]}();
!function(){"use strict";function t(t,e){var r=this;r.users={},r.error={},r.isAuthenticated=function(){return e.isAuthenticated()},r.getUsers=function(){t.get("api/authenticate").success(function(t){r.users=t}).error(function(t){r.error=t})}}angular.module("app").controller("HomeController",t),t.$inject=["$http","$auth"]}();
!function(){"use strict";function o(o,n,e,a,i){var r=this;r.login=!0,i.$on("cfpLoadingBar:completed",function(){r.loading=!1}),i.$on("cfpLoadingBar:started",function(){r.loading=!0}),i.$on("cfpLoadingBar:loading",function(){console.log(" ----------- loading bar loading")}),$("body").removeClass("page-signup"),$("body").addClass("page-signin"),r.error={},r.login=function(a){if(a.$valid){var i={email:r.email,password:r.password};o.login(i).then(function(o){$("body").removeClass("page-signin"),n.go("home",{})})["catch"](function(o){r.error="Usuário ou Senha Inválido(s)",e(function(){delete r.error,delete r.email,delete r.password},2e3)})}}}angular.module("app").controller("AuthController",o),o.$inject=["$auth","$state","$timeout","userFactory","$scope"]}();
!function(){"use strict";function e(e,t,n,o,a){function r(){return i()}function i(){return t.getUserProfile().then(function(e){return s.data=e,s.data})}function u(){c(),s.dataupdate=angular.copy(s.data),f.$promise.then(f.show)}function l(){t.updateUserProfile(s.dataupdate).then(function(){r(),f.hide()})}function c(){o.myImage="",o.myCroppedImage="",a(function(){var e=function(e){var t=e.currentTarget.files[0],n=new FileReader;n.onload=function(e){o.$apply(function(t){t.myImage=e.target.result})},n.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",e)})}function d(){m.$promise.then(m.show),c()}function p(e){t.updateUserPicture(e).then(function(){r(),m.hide()}),console.log(e)}var s=this,f=n({scope:o,templateUrl:"components/profile/modal.tpl.html",animation:"am-fade-and-slide-top",show:!1}),m=n({scope:o,templateUrl:"components/profile/modalPictureUpdate.html",animation:"am-fade-and-slide-top",show:!1});s.titulo="Teste de ViewModel",s.openUpdateModal=u,s.openPictureUpdateModal=d,s.saveChanges=l,s.savePicture=p,r()}angular.module("app").controller("ProfileController",e),e.$inject=["$http","userFactory","$modal","$scope","$timeout"]}();
!function(){"use strict";function e(e,a,o){var r=this;$("body").removeClass("page-signin"),$("body").addClass("page-signup"),r.register=function(){var e={displayName:r.user_name,email:r.user_email,password:r.user_password};o.signup(e).then(function(e){a.go("login",{}),alert("Registro Realizado com sucesso. Você poderá se logar agora.")})["catch"](function(e){alert(e.data.error)})}}angular.module("app").controller("RegisterController",e),e.$inject=["$http","$state","$auth"]}();
!function(){"use strict";function t(t,e,n){function r(){function n(t){return t.data.results}function r(t){}return t.get(e+"/authenticate").then(n)["catch"](r)}function u(){function n(t){return t.data}function r(t){}return t.get(e+"/user/profile").then(n)["catch"](r)}function c(n){function r(t){return t.data}function u(t){alert("Nada Feito")}return console.log(n),t.put(e+"/user/profile",n).then(r)["catch"](u)}function o(t){return n.upload({url:e+"/user/profile/update_picture",file:{file:t}}).then(a)}function a(t){return t.data}return{getUsers:r,getUserProfile:u,updateUserProfile:c,updateUserPicture:o}}angular.module("app").factory("userFactory",t),t.$inject=["$http","API_URL","Upload"]}();
!function(){"use strict";angular.module("app").factory("SessionService",function(){return{get:function(e){return sessionStorage.getItem(e)},set:function(e,t){return sessionStorage.setItem(e,t)},unset:function(e){return sessionStorage.removeItem(e)}}})}();
!function(){"use strict";function t(t,o,n){var l=this;l.logOut=function(){o.logout(),n.go("login",{},{reload:!0})}}angular.module("app").controller("NavbarController",t),t.$inject=["$http","$auth","$state"]}();